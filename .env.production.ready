# ========================================
# GACP Platform - Production Configuration
# ========================================
# Generated: November 4, 2025
# Status: Ready for Production Deployment
# 
# SECURITY WARNING: 
# - Replace ALL placeholder values with actual production credentials
# - Never commit this file to Git
# - Store sensitive values in secure vault (Azure Key Vault, AWS Secrets Manager)
# ========================================

# ========================================
# Application
# ========================================
NODE_ENV=production
PORT=3004
API_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# ========================================
# Database - MongoDB (REQUIRED)
# ========================================
# Production MongoDB Connection
MONGODB_URI=mongodb://admin:CHANGE_THIS_PASSWORD@your-mongodb-host:27017/gacp_platform?authSource=admin
MONGODB_DB_NAME=gacp_platform

# MongoDB Atlas Example (Cloud):
# MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/gacp_platform?retryWrites=true&w=majority

# Local Docker Example:
# MONGODB_URI=mongodb://admin:gacp2024@localhost:27017/gacp_platform?authSource=admin

# ========================================
# Cache & Queue - Redis (REQUIRED)
# ========================================
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_PASSWORD
REDIS_DB=0

# Redis Cloud Example:
# REDIS_HOST=redis-12345.c123.us-east-1-1.ec2.cloud.redislabs.com
# REDIS_PORT=12345
# REDIS_PASSWORD=your-redis-cloud-password

# Local Docker Example:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ========================================
# Phase 2 - Queue & Cache (REQUIRED)
# ========================================
ENABLE_QUEUE=true
ENABLE_CACHE=true
ENABLE_METRICS=true
ENABLE_ALERTS=true

# Queue Configuration
QUEUE_CONCURRENCY=5
QUEUE_MAX_JOBS=1000
QUEUE_ATTEMPTS=3
QUEUE_BACKOFF=5000

# Cache Configuration
CACHE_TTL_DEFAULT=300
CACHE_TTL_SHORT=60
CACHE_TTL_LONG=3600
CACHE_MAX_SIZE=1000

# ========================================
# Security - JWT & Sessions (CRITICAL)
# ========================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=GENERATE_64_BYTE_HEX_STRING_HERE
SESSION_SECRET=GENERATE_32_BYTE_HEX_STRING_HERE
CERTIFICATE_SECRET_KEY=GENERATE_32_BYTE_HEX_STRING_HERE

# JWT Configuration
JWT_EXPIRY=7d
JWT_REFRESH_EXPIRY=30d

# ========================================
# Email - SMTP (REQUIRED for Notifications)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=GACP Platform <noreply@yourdomain.com>

# SendGrid Example:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=your-sendgrid-api-key

# ========================================
# File Storage (Optional - for uploads)
# ========================================
STORAGE_TYPE=local
STORAGE_PATH=./uploads

# AWS S3 Example:
# STORAGE_TYPE=s3
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=gacp-platform-uploads

# ========================================
# Logging & Monitoring
# ========================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_FILES=30
LOG_MAX_SIZE=10m

# Sentry (Optional - Error Tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# New Relic (Optional - APM)
# NEW_RELIC_LICENSE_KEY=your-license-key
# NEW_RELIC_APP_NAME=GACP-Platform-Production

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ========================================
# CORS Configuration
# ========================================
CORS_ORIGIN=https://yourdomain.com,https://admin.yourdomain.com
CORS_CREDENTIALS=true

# ========================================
# SSL/TLS (Production)
# ========================================
SSL_KEY_PATH=/path/to/ssl/privkey.pem
SSL_CERT_PATH=/path/to/ssl/fullchain.pem
FORCE_HTTPS=true

# ========================================
# Performance Optimization
# ========================================
CLUSTER_WORKERS=auto
MAX_REQUEST_SIZE=10mb
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# ========================================
# AI Services (Optional)
# ========================================
# OpenAI Configuration
# OPENAI_API_KEY=sk-your-openai-api-key
# OPENAI_MODEL=gpt-4-turbo-preview

# ========================================
# Backup Configuration
# ========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

# ========================================
# Feature Flags
# ========================================
FEATURE_AI_QC=true
FEATURE_DIGITAL_SIGNATURE=true
FEATURE_IOT_INTEGRATION=true
FEATURE_BLOCKCHAIN=false

# ========================================
# External Services (Optional)
# ========================================
# Payment Gateway (if needed)
# STRIPE_SECRET_KEY=sk_live_your-stripe-key
# STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# SMS Service (if needed)
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# ========================================
# Healthcheck & Monitoring
# ========================================
HEALTHCHECK_ENABLED=true
HEALTHCHECK_INTERVAL=30000
METRICS_ENABLED=true
METRICS_PORT=9090

# ========================================
# Database Indexes (Auto-created on startup)
# ========================================
AUTO_CREATE_INDEXES=true

# ========================================
# Production Optimizations
# ========================================
NODE_OPTIONS=--max-old-space-size=4096
UV_THREADPOOL_SIZE=128
