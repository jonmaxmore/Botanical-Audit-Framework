# üîß ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Route Loading Errors

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 20 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2025  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚úÖ ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡πâ‡∏ß - ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

---

## üéØ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß Smart Platform

### ‚ùå ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î (‡πÄ‡∏î‡∏¥‡∏°)

- "‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£"
- "SOP ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå PDF ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î"
- "‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏≠‡∏á"

### ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á (Botanical Audit Framework)

**‡πÄ‡∏õ‡πá‡∏ô Smart Digital Platform:**

- ‚úÖ **Form-Based System** - ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå 90%
- ‚úÖ **Guided Workflow** - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
- ‚úÖ **Auto-Generated Documents** - ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‚úÖ **Real-time Validation** - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‚úÖ **Digital SOP Templates** - ‡∏°‡∏µ Template ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ

---

## üìä ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

### 1. Certificate Management SOP (Smart Form)

**‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà:** ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î PDF ‡∏Ç‡∏≠‡∏á SOP
**‚úÖ ‡πÉ‡∏ä‡πà:** ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Digital Form

```javascript
// Certificate SOP - Digital Form Structure
{
  farmInfo: {
    farmName: "‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏Å‡∏±‡∏ç‡∏ä‡∏≤‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå",
    farmSize: "5 ‡πÑ‡∏£‡πà",
    location: { province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", district: "‡πÄ‡∏°‡∏∑‡∏≠‡∏á" }
  },

  operatingProcedures: {
    // ‚úÖ ‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏ô Form (‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î PDF)
    seedSelection: {
      source: "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á",
      variety: "CBD ‡∏™‡∏π‡∏á",
      certification: "‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á"
    },

    cultivation: {
      soilPreparation: "‡πÑ‡∏ñ‡∏û‡∏£‡∏ß‡∏ô + ‡∏õ‡∏£‡∏±‡∏ö pH",
      irrigation: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î",
      pestControl: "‡∏ä‡∏µ‡∏ß‡∏†‡∏≤‡∏û 100%"
    },

    harvesting: {
      method: "‡πÄ‡∏Å‡πá‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠",
      timing: "‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö THC/CBD",
      storage: "‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏¢‡πá‡∏ô 15-20¬∞C"
    }
  },

  qualityControl: {
    // ‡∏£‡∏∞‡∏ö‡∏ö Auto-generate Checklist
    checkpoints: [
      { step: "‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏•‡∏π‡∏Å", criteria: "‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô + ‡∏ô‡πâ‡∏≥" },
      { step: "‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏π‡∏Å", criteria: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≤‡∏£‡∏û‡∏¥‡∏©" },
      { step: "‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß", criteria: "‡∏ó‡∏î‡∏™‡∏≠‡∏ö THC/CBD" }
    ]
  }
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö **‡∏™‡∏£‡πâ‡∏≤‡∏á SOP PDF ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å
- ‚úÖ ‡∏°‡∏µ **Digital Signature** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ
- ‚úÖ ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô **Database** ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå

---

### 2. Farm Management SOP (Smart Workflow)

**‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà:** ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ü‡∏≤‡∏£‡πå‡∏° + ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
**‚úÖ ‡πÉ‡∏ä‡πà:** ‡πÉ‡∏ä‡πâ Interactive Map + Digital Forms

```javascript
// Farm Management - Digital Workflow
{
  farmLayout: {
    // ‚úÖ ‡∏ß‡∏≤‡∏î‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà Interactive (‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ)
    plots: [
      {
        plotId: "A1",
        area: "1 ‡πÑ‡∏£‡πà",
        coordinates: { lat: 18.7883, lng: 98.9853 },
        cropType: "CBD ‡∏™‡∏π‡∏á",
        plantingDate: "2025-01-15"
      }
    ]
  },

  farmActivities: {
    // ‚úÖ ‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏ô Calendar Form (‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î Excel)
    schedule: [
      {
        date: "2025-01-15",
        activity: "‡∏õ‡∏•‡∏π‡∏Å",
        plot: "A1",
        workers: 5,
        materials: ["‡∏õ‡∏∏‡πã‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå 50 ‡∏Å‡∏Å."]
      }
    ]
  },

  traceability: {
    // ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö Auto-generate QR Code
    batchId: "BATCH-2025-A1-001",
    qrCode: "auto-generated",
    blockchain: "recorded"
  }
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚úÖ **Dashboard ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ü‡∏≤‡∏£‡πå‡∏°** Real-time
- ‚úÖ **‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô** ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥
- ‚úÖ **Track & Trace** ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏°‡∏•‡πá‡∏î‡∏ñ‡∏∂‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ

---

## üîç ‡∏™‡∏£‡∏∏‡∏õ Smart Platform Features

| Feature      | ‚ùå ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤ | ‚úÖ Smart Platform         |
| ------------ | ----------- | ------------------------- |
| SOP          | ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î PDF | ‡∏Å‡∏£‡∏≠‡∏Å Form ‚Üí Auto-generate |
| ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ü‡∏≤‡∏£‡πå‡∏°  | ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ  | Interactive Map           |
| ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ü‡∏≤‡∏£‡πå‡∏° | Excel       | Digital Calendar          |
| ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£       | File Upload | Database + PDF Export     |
| ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö   | Manual      | Auto Validation           |
| ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô       | ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏≠‡∏á    | Auto-generated            |

---

## ‚ùå Error ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á Route Loading Errors

```
‚ùå Failed to load DTAM auth routes
‚ùå Failed to load NEW application routes
‚ùå Failed to load DTAM Management routes
‚ùå Failed to load Survey 4-Regions routes
‚ùå Failed to load Track & Trace routes
‚ùå Failed to load Standards Comparison routes
```

---

## üîß ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ö‡∏ö Step-by-Step

### Error #1: Failed to load DTAM auth routes

**‡πÑ‡∏ü‡∏•‡πå:** `apps/backend/modules/auth-dtam/routes/dtam-auth.js`

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

```javascript
// Line 14: shared module path ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
const shared = require('../../shared'); // ‚ùå ‡∏ú‡∏¥‡∏î
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```javascript
// ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á - ‡πÉ‡∏ä‡πâ path ‡∏à‡∏≤‡∏Å backend root
const shared = require('../../../shared');
```

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**

```
Structure:
apps/backend/
‚îú‚îÄ‚îÄ shared/              ‚Üê Target
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îî‚îÄ‚îÄ modules/
    ‚îî‚îÄ‚îÄ auth-dtam/
        ‚îî‚îÄ‚îÄ routes/
            ‚îî‚îÄ‚îÄ dtam-auth.js  ‚Üê Current file

Path: ../../../shared (‡∏Ç‡∏∂‡πâ‡∏ô 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö)
```

---

### Error #2: Failed to load NEW application routes

**‡πÑ‡∏ü‡∏•‡πå:** `apps/backend/src/routes/applications.js`

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

```javascript
// Line 11: middleware ‡πÑ‡∏°‡πà‡∏°‡∏µ
const { authenticate, authorize } = require('../middleware/auth'); // ‚ùå ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏°‡∏µ
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```javascript
// Option 1: ‡πÉ‡∏ä‡πâ shared middleware
const { authenticate } = require('../../shared/middleware/auth');
const { authorize } = require('../../shared/middleware/roles');

// Option 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå middleware
// apps/backend/src/middleware/auth.js
module.exports = {
  authenticate: require('../../shared/middleware/auth').authenticate,
  authorize: require('../../shared/middleware/roles').authorize,
};
```

---

### Error #3: Failed to load DTAM Management routes

**‡πÑ‡∏ü‡∏•‡πå:** `apps/backend/routes/dtam-management.js`

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

```javascript
// Line 10-13: middleware path ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
const {
  verifyDTAMToken,
  requireDTAMRole,
  requireDTAMAdmin,
} = require('../modules/auth-dtam/middleware/dtam-auth'); // ‚úÖ ‡∏ñ‡∏π‡∏Å‡πÅ‡∏•‡πâ‡∏ß
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏£‡∏¥‡∏á:** Mock data ‡πÑ‡∏°‡πà‡∏°‡∏µ module.exports

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```javascript
// ‡πÄ‡∏û‡∏¥‡πà‡∏° module.exports ‡∏ó‡∏µ‡πà‡∏ó‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå
module.exports = router;
```

---

### Error #4: Failed to load Survey 4-Regions routes

**‡πÑ‡∏ü‡∏•‡πå:** `apps/backend/routes/api/surveys-4regions.js`

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà export router

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```javascript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ
module.exports = router;
```

---

### Error #5: Failed to load Track & Trace routes

**‡πÑ‡∏ü‡∏•‡πå:** `apps/backend/routes/api/tracktrace.js`

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà export router ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ dependencies ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```javascript
// 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö exports
module.exports = router;

// 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö dependencies
// ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ controller ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ mock
```

---

### Error #6: Failed to load Standards Comparison routes

**‡πÑ‡∏ü‡∏•‡πå:** `apps/backend/routes/api/standards-comparison.js`

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** Export ‡πÄ‡∏õ‡πá‡∏ô object `{ router }` ‡πÅ‡∏ï‡πà server.js expect default export

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```javascript
// Option 1: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå standards-comparison.js
module.exports = router; // ‚úÖ ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

// Option 2: ‡πÅ‡∏Å‡πâ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå server.js (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà)
const standardsModule = require('./routes/api/standards-comparison');
standardsRoutes = standardsModule.router; // ‚úÖ ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß
```

---

## üéØ ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### Phase 1: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Import Paths (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏π‡∏á)

```powershell
# 1. ‡πÅ‡∏Å‡πâ dtam-auth.js
# Line 14: const shared = require('../../shared');
# ‡πÄ‡∏õ‡πá‡∏ô: const shared = require('../../../shared');

# 2. ‡πÅ‡∏Å‡πâ applications.js
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå apps/backend/src/middleware/auth.js
```

### Phase 2: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Module Exports (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏•‡∏≤‡∏á)

```powershell
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏µ module.exports
- surveys-4regions.js
- tracktrace.js
- dtam-management.js
```

### Phase 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏π‡∏á)

```powershell
# ‡πÄ‡∏£‡∏¥‡πà‡∏° server
node apps/backend/server.js

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error logs
# ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô:
# ‚úÖ DTAM auth routes loaded successfully
# ‚úÖ NEW GACP Application routes loaded successfully
# ‚úÖ DTAM Management routes loaded successfully
# ‚úÖ Survey 4-Regions API routes loaded successfully
# ‚úÖ Track & Trace API routes loaded successfully
# ‚úÖ Standards Comparison API routes loaded successfully
```

---

## üìã Checklist ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

- [ ] Backup files ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- [ ] ‡∏≠‡πà‡∏≤‡∏ô error logs ‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö file structure

### ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

- [ ] ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå
- [ ] Commit ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

- [ ] ‚úÖ ‡∏ó‡∏∏‡∏Å route ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚úÖ Server ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
- [ ] ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ error logs
- [ ] ‚úÖ API endpoints ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- [ ] ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á git commit
- [ ] ‚úÖ Push to GitHub

---

## üöÄ ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### 1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç dtam-auth.js

```powershell
# ‡πÅ‡∏Å‡πâ path ‡∏Ç‡∏≠‡∏á shared module
$file = "apps\backend\modules\auth-dtam\routes\dtam-auth.js"
(Get-Content $file) -replace "require\('\.\./\.\./shared'\)", "require('../../../shared')" | Set-Content $file
```

### 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á middleware/auth.js

```powershell
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå middleware
New-Item -Path "apps\backend\src\middleware" -ItemType Directory -Force
@"
// Middleware proxy for authentication
const { authenticate } = require('../../shared/middleware/auth');
const { authorize } = require('../../shared/middleware/roles');

module.exports = {
  authenticate,
  authorize
};
"@ | Set-Content "apps\backend\src\middleware\auth.js"
```

### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö module.exports

```powershell
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏µ module.exports
Get-ChildItem -Path "apps\backend\routes\api" -Filter "*.js" | ForEach-Object {
  $content = Get-Content $_.FullName -Raw
  if ($content -notmatch "module\.exports") {
    Write-Host "‚ùå Missing exports: $($_.Name)"
  } else {
    Write-Host "‚úÖ Has exports: $($_.Name)"
  }
}
```

---

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

### ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

```
‚ùå Failed to load DTAM auth routes: Cannot find module '../../shared'
‚ùå Failed to load NEW application routes: Cannot find module '../middleware/auth'
‚ùå Failed to load DTAM Management routes: (error message)
‚ùå Failed to load Survey 4-Regions routes: (error message)
‚ùå Failed to load Track & Trace routes: (error message)
‚ùå Failed to load Standards Comparison routes: (error message)

Server started with 6 route loading errors
```

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

```
‚úÖ MongoDB Auth routes loaded successfully
‚úÖ DTAM auth routes loaded successfully
‚úÖ NEW GACP Application routes loaded successfully
‚úÖ Dashboard routes loaded successfully
‚úÖ Compliance comparator routes loaded successfully
‚úÖ Survey API routes loaded successfully (legacy)
‚úÖ DTAM Management routes loaded successfully
‚úÖ Survey 4-Regions API routes loaded successfully
‚úÖ Track & Trace API routes loaded successfully
‚úÖ Standards Comparison API routes loaded successfully

Server started successfully with ALL routes loaded
```

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å

1. **Import Paths ‡∏ú‡∏¥‡∏î** - ‡πÉ‡∏ä‡πâ relative path ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. **Missing Middleware** - ‡πÑ‡∏ü‡∏•‡πå middleware ‡πÑ‡∏°‡πà‡∏°‡∏µ
3. **Missing Exports** - ‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà export module

### ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ

1. ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç import paths ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á middleware files ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
3. ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° module.exports ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

- ‚úÖ ‡∏ó‡∏∏‡∏Å route ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ error logs
- ‚úÖ Server ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
- ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Production

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** Error ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ refactoring **‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á** ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö Apple-style ‡πÄ‡∏•‡∏¢

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Apple-Style Refactoring:** ‚úÖ **‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå** - ‡πÑ‡∏°‡πà‡∏°‡∏µ breaking changes
