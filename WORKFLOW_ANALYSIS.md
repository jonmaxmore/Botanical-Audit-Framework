# GACP Platform - Workflow Analysis & UI Design

## 🔍 วิเคราะห์ Workflow ทั้งระบบ

### ระบบมี 4 User Roles หลัก

1. **Farmer (เกษตรกร)** - ยื่นคำขอ, ติดตามสถานะ
2. **Reviewer (ผู้ตรวจเอกสาร)** - ตรวจสอบเอกสาร
3. **Inspector (ผู้ตรวจสอบ)** - ตรวจสอบสถานที่จริง
4. **Approver (ผู้อนุมัติ)** - อนุมัติใบรับรอง

---

## 📊 Certification Workflow (ขั้นตอนการขอใบรับรอง)

```
1. DRAFT (ร่าง)
   ↓ [Farmer: ยื่นคำขอ]
   
2. SUBMITTED (ยื่นคำขอแล้ว)
   ↓ [Farmer: ชำระเงิน 15,000฿]
   
3. PAYMENT_PENDING (รอชำระเงิน)
   ↓ [System: ยืนยันการชำระเงิน]
   
4. DOCUMENT_REVIEW (ตรวจเอกสาร)
   ↓ [Reviewer: ตรวจสอบเอกสาร]
   
5. INSPECTION_SCHEDULED (นัดตรวจสอบ)
   ↓ [Inspector: ตรวจสอบสถานที่]
   
6. INSPECTION_COMPLETED (ตรวจสอบเสร็จ)
   ↓ [Farmer: ชำระเงินงวด 2 = 15,000฿]
   
7. FINAL_REVIEW (รอการอนุมัติ)
   ↓ [Approver: อนุมัติ/ไม่อนุมัติ]
   
8. APPROVED (อนุมัติ) / REJECTED (ไม่อนุมัติ)
   ↓ [System: ออกใบรับรอง]
   
9. CERTIFICATE_ISSUED (ออกใบรับรองแล้ว)
```

---

## 🎯 หน้าจอที่ต้องมีสำหรับแต่ละ Role

### 👨‍🌾 Farmer Portal (เกษตรกร)

#### หน้าหลัก (Dashboard)
```
┌─────────────────────────────────────────────────┐
│ 🏠 Dashboard                                    │
├─────────────────────────────────────────────────┤
│ • สถิติรวม (คำขอทั้งหมด, รอดำเนินการ, สำเร็จ) │
│ • การแจ้งเตือนล่าสุด (5 รายการ)                │
│ • ใบงานของฉัน (Tasks) - รอดำเนินการ            │
│ • ปฏิทินนัดหมาย (Inspections)                   │
│ • Smart Farming Widget (อากาศ, ดิน, น้ำ)       │
└─────────────────────────────────────────────────┘
```

#### 1. `/applications` - รายการคำขอทั้งหมด
**ประเภท:** Data Table (ERP-style)
```
┌─────────────────────────────────────────────────┐
│ 📋 คำขอใบรับรอง GACP                           │
├─────────────────────────────────────────────────┤
│ [+ ยื่นคำขอใหม่]  [🔍 ค้นหา] [🔽 กรอง]       │
├─────────────────────────────────────────────────┤
│ ID    | ฟาร์ม      | พืช   | สถานะ    | วันที่ │
│ #001  | สุขใจ      | กัญชา | ตรวจเอกสาร| 15/01 │
│ #002  | ปลอดภัย    | ขมิ้น | รอชำระเงิน| 10/01 │
│ #003  | อินทรีย์   | กัญชา | อนุมัติแล้ว| 05/01 │
└─────────────────────────────────────────────────┘
```

**Features:**
- ✅ ตาราง sortable, filterable
- ✅ Status badge สีต่างกัน
- ✅ Quick actions (ดู, แก้ไข, ลบ)
- ✅ Pagination
- ✅ Export CSV/Excel

---

#### 2. `/applications/[id]` - รายละเอียดคำขอ
**ประเภท:** Detail View + Timeline
```
┌─────────────────────────────────────────────────┐
│ 📄 คำขอ #001 - ฟาร์มสุขใจ                      │
├─────────────────────────────────────────────────┤
│ ┌─────────────┐  ┌──────────────────────────┐  │
│ │ ข้อมูลคำขอ  │  │ Timeline                 │  │
│ │ • ฟาร์ม     │  │ ✅ ยื่นคำขอ (15/01)     │  │
│ │ • พืช       │  │ ✅ ชำระเงิน (16/01)     │  │
│ │ • พื้นที่   │  │ 🔄 ตรวจเอกสาร (กำลังดำเนินการ)│
│ │ • เอกสาร    │  │ ⏳ นัดตรวจสอบ           │  │
│ └─────────────┘  │ ⏳ อนุมัติ               │  │
│                  └──────────────────────────┘  │
├─────────────────────────────────────────────────┤
│ 💬 ความคิดเห็นจากเจ้าหน้าที่                   │
│ [Reviewer] กรุณาเพิ่มเอกสารใบอนุญาต (17/01)   │
│ [You] อัปโหลดเอกสารเพิ่มเติมแล้ว (17/01)       │
├─────────────────────────────────────────────────┤
│ 📎 เอกสารแนบ (5 ไฟล์)                          │
│ [ดาวน์โหลดทั้งหมด]                             │
└─────────────────────────────────────────────────┘
```

**Features:**
- ✅ Timeline แสดงสถานะ
- ✅ Comment system (2-way communication)
- ✅ Document viewer
- ✅ Action buttons (ตามสถานะ)
- ✅ Print/Export PDF

---

#### 3. `/application/new` - ยื่นคำขอใหม่
**ประเภท:** Multi-step Form (Wizard)
```
┌─────────────────────────────────────────────────┐
│ 📝 ยื่นคำขอใบรับรอง GACP                       │
├─────────────────────────────────────────────────┤
│ Step 1 ━━━━ Step 2 ──── Step 3 ──── Step 4     │
│ เลือกฟาร์ม  ข้อมูลพืช  เอกสาร    ตรวจสอบ      │
├─────────────────────────────────────────────────┤
│ [Step 1: เลือกฟาร์ม]                           │
│                                                 │
│ ○ ฟาร์มสุขใจ (เชียงใหม่)                       │
│ ○ ฟาร์มปลอดภัย (เชียงราย)                      │
│ ○ + สร้างฟาร์มใหม่                             │
│                                                 │
│ [ถัดไป →]                                       │
└─────────────────────────────────────────────────┘
```

**Steps:**
1. เลือกฟาร์ม
2. เลือกพืช + ข้อมูลการปลูก
3. อัปโหลดเอกสาร (10+ ประเภท)
4. ตรวจสอบและยืนยัน

---

#### 4. `/farms` - จัดการฟาร์ม
**ประเภท:** Card Grid + Map View
```
┌─────────────────────────────────────────────────┐
│ 🏡 ฟาร์มของฉัน                                 │
├─────────────────────────────────────────────────┤
│ [+ เพิ่มฟาร์ม]  [🗺️ แสดงแผนที่]              │
├─────────────────────────────────────────────────┤
│ ┌──────────┐  ┌──────────┐  ┌──────────┐       │
│ │ 🌱 สุขใจ │  │ 🌾 ปลอดภัย│  │ 🌿 อินทรีย์│     │
│ │ เชียงใหม่ │  │ เชียงราย  │  │ ลำปาง    │       │
│ │ 5 ไร่    │  │ 10 ไร่   │  │ 3 ไร่    │       │
│ │ กัญชา 2 แปลง│ ขมิ้น 3 แปลง│ กัญชา 1 แปลง│    │
│ └──────────┘  └──────────┘  └──────────┘       │
└─────────────────────────────────────────────────┘
```

**Features:**
- ✅ Card view / List view / Map view
- ✅ Quick stats (พื้นที่, แปลง, พืช)
- ✅ GPS location
- ✅ CRUD operations

---

#### 5. `/tasks` - ใบงานของฉัน (Task Management)
**ประเภท:** Kanban Board / List View
```
┌─────────────────────────────────────────────────┐
│ ✅ ใบงานของฉัน                                 │
├─────────────────────────────────────────────────┤
│ รอดำเนินการ (3) │ กำลังทำ (2) │ เสร็จแล้ว (5) │
├─────────────────────────────────────────────────┤
│ 📋 อัปโหลดเอกสาร│ 💰 ชำระเงิน  │ ✅ ยื่นคำขอ  │
│ คำขอ #001      │ คำขอ #002    │ คำขอ #003    │
│ ⏰ ภายใน 3 วัน │ ⏰ ภายใน 7 วัน│ ✓ เสร็จแล้ว  │
│                │              │              │
│ 📅 นัดตรวจสอบ  │ 📝 ตอบคำถาม  │              │
│ คำขอ #004      │ คำขอ #005    │              │
│ ⏰ 20/01 10:00 │ ⏰ ภายใน 2 วัน│              │
└─────────────────────────────────────────────────┘
```

**Task Types:**
- 📋 อัปโหลดเอกสารเพิ่มเติม
- 💰 ชำระเงิน
- 📅 เตรียมตัวตรวจสอบ
- 📝 ตอบคำถามจากเจ้าหน้าที่
- ✏️ แก้ไขข้อมูล

---

#### 6. `/notifications` - การแจ้งเตือน
**ประเภท:** Notification Center
```
┌─────────────────────────────────────────────────┐
│ 🔔 การแจ้งเตือน                                 │
├─────────────────────────────────────────────────┤
│ [ทั้งหมด] [ยังไม่อ่าน (5)] [อ่านแล้ว]         │
├─────────────────────────────────────────────────┤
│ 🔵 คำขอ #001 เปลี่ยนสถานะเป็น "ตรวจเอกสาร"     │
│    2 ชั่วโมงที่แล้ว                             │
│                                                 │
│ 🔵 กรุณาอัปโหลดเอกสารเพิ่มเติม - คำขอ #001     │
│    5 ชั่วโมงที่แล้ว                             │
│                                                 │
│ ⚪ นัดตรวจสอบ วันที่ 20/01 เวลา 10:00          │
│    1 วันที่แล้ว                                 │
└─────────────────────────────────────────────────┘
```

---

#### 7. `/certificates` - ใบรับรองของฉัน
**ประเภท:** Card Grid + Detail View
```
┌─────────────────────────────────────────────────┐
│ 🏆 ใบรับรอง GACP                               │
├─────────────────────────────────────────────────┤
│ ┌────────────────┐  ┌────────────────┐         │
│ │ 📜 GACP-001    │  │ 📜 GACP-002    │         │
│ │ ฟาร์มสุขใจ     │  │ ฟาร์มปลอดภัย   │         │
│ │ กัญชา          │  │ ขมิ้น          │         │
│ │ หมดอายุ: 15/01/26│ หมดอายุ: 10/01/26│       │
│ │ [ดาวน์โหลด PDF]│  │ [ดาวน์โหลด PDF]│         │
│ │ [QR Code]      │  │ [QR Code]      │         │
│ └────────────────┘  └────────────────┘         │
└─────────────────────────────────────────────────┘
```

---

#### 8. `/smart-farming` - Smart Farming Dashboard
**ประเภท:** Dashboard with Widgets
```
┌─────────────────────────────────────────────────┐
│ 🌾 Smart Farming                                │
├─────────────────────────────────────────────────┤
│ ┌──────────┐ ┌──────────┐ ┌──────────┐         │
│ │ ☀️ อากาศ │ │ 🌱 ดิน   │ │ 💧 น้ำ   │         │
│ │ 28°C     │ │ pH 6.5   │ │ 4.5 L/วัน│         │
│ │ ความชื้น 65%│ ดินร่วน │ รดทุกวัน │         │
│ └──────────┘ └──────────┘ └──────────┘         │
├─────────────────────────────────────────────────┤
│ 📅 ปฏิทินปลูก                                   │
│ • ตุลาคม-ธันวาคม: เหมาะปลูกกัญชา               │
│ • มกราคม-มีนาคม: ระยะเจริญเติบโต               │
├─────────────────────────────────────────────────┤
│ 💡 คำแนะนำวันนี้                                │
│ • รดน้ำเช้า 4.5 ลิตร                           │
│ • ใส่ปุ๋ย NPK 15-10-10                          │
│ • ตรวจสอบโรคแมลง                                │
└─────────────────────────────────────────────────┘
```

---

### 👨‍💼 DTAM Portal (เจ้าหน้าที่)

#### Reviewer Dashboard
```
┌─────────────────────────────────────────────────┐
│ 📋 ใบงานตรวจเอกสาร                             │
├─────────────────────────────────────────────────┤
│ รอตรวจ (12) │ กำลังตรวจ (5) │ เสร็จแล้ว (45)  │
├─────────────────────────────────────────────────┤
│ #001 | ฟาร์มสุขใจ | กัญชา | ⏰ 2 วัน | [รับงาน]│
│ #002 | ฟาร์มปลอดภัย| ขมิ้น | ⏰ 1 วัน | [รับงาน]│
│ #003 | ฟาร์มอินทรีย์| กัญชา| ⏰ 3 วัน | [รับงาน]│
└─────────────────────────────────────────────────┘
```

#### Inspector Dashboard
```
┌─────────────────────────────────────────────────┐
│ 🔍 ใบงานตรวจสอบสถานที่                         │
├─────────────────────────────────────────────────┤
│ นัดหมายวันนี้ (2) │ สัปดาห์นี้ (8) │ เดือนนี้ (25)│
├─────────────────────────────────────────────────┤
│ 📅 วันนี้ 10:00 - ฟาร์มสุขใจ (เชียงใหม่)       │
│ 📅 วันนี้ 14:00 - ฟาร์มปลอดภัย (เชียงราย)      │
│ 📅 พรุ่งนี้ 09:00 - ฟาร์มอินทรีย์ (ลำปาง)      │
└─────────────────────────────────────────────────┘
```

---

## 🎨 UI/UX Design Principles

### 1. Dashboard-First Design
- **หน้าแรก = Dashboard** (ไม่ใช่ Landing Page)
- แสดงข้อมูลสำคัญทันที
- Quick actions ที่ใช้บ่อย
- Real-time notifications

### 2. Task-Oriented
- **ใบงาน (Tasks)** เป็นศูนย์กลาง
- แสดงสิ่งที่ต้องทำ ชัดเจน
- Priority + Deadline
- One-click action

### 3. ERP-Style Tables
- Sortable, Filterable, Searchable
- Bulk actions
- Export data
- Pagination

### 4. Real-time Updates
- Socket.IO notifications
- Status changes
- New tasks
- Comments/Messages

### 5. Mobile-Responsive
- ใช้งานบนมือถือได้
- Touch-friendly
- Simplified mobile view

---

## 📱 Navigation Structure

```
┌─────────────────────────────────────────────────┐
│ 🌿 GACP Platform    [🔔 5] [👤 สมชาย]          │
├─────────────────────────────────────────────────┤
│ 🏠 Dashboard                                    │
│ ✅ ใบงานของฉัน (3)                             │
│ 📋 คำขอทั้งหมด                                 │
│ 🏡 ฟาร์มของฉัน                                 │
│ 🏆 ใบรับรอง                                     │
│ 🌾 Smart Farming                                │
│ 📄 เอกสาร                                       │
│ 💰 ชำระเงิน                                     │
│ 📊 รายงาน                                       │
│ ⚙️ ตั้งค่า                                      │
└─────────────────────────────────────────────────┘
```

---

## ✅ สรุปหน้าที่ต้องสร้าง (ตาม Workflow)

### Priority 1: Core Workflow (สำคัญมาก)
1. ✅ `/dashboard` - Dashboard (มีแล้ว)
2. ❌ `/tasks` - ใบงานของฉัน (ใหม่)
3. ❌ `/applications` - รายการคำขอ
4. ❌ `/applications/[id]` - รายละเอียด
5. ❌ `/application/new` - ยื่นคำขอใหม่
6. ❌ `/farms` - จัดการฟาร์ม

### Priority 2: Supporting Features
7. ❌ `/certificates` - ใบรับรอง
8. ❌ `/notifications` - การแจ้งเตือน
9. ❌ `/smart-farming` - Smart Farming
10. ✅ `/profile` - โปรไฟล์ (ใช้ settings แทน)

---

## 🚀 แผนการพัฒนา

**ขั้นตอนที่ 1:** สร้างหน้า Priority 1 (6 หน้า)  
**ขั้นตอนที่ 2:** สร้างหน้า Priority 2 (4 หน้า)  
**ขั้นตอนที่ 3:** เชื่อม Backend APIs  
**ขั้นตอนที่ 4:** ทดสอบ Workflow ทั้งหมด

**พร้อมเริ่มสร้างเมื่อไหร่?** 🎯
